<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mini Memory</title>
<style>
  :root { 
    --bg:#111827; 
    --card:#1f2937; 
    --face:#374151; 
    --text:#e5e7eb; 
    --accent:#60a5fa; 
  }

  body { 
    margin:0; 
    font:16px/1.4 system-ui, sans-serif; 
    background:var(--bg); 
    color:var(--text); 
    display:grid; 
    place-items:center; 
    min-height:100vh; }

  .wrap { width:min(520px, 94vw); }

  header { 
    display:flex; 
    justify-content:space-between; 
    align-items:center; 
    margin:16px 0; 
  }

  button { 
    background:var(--accent); 
    color:#0b1020; 
    border:0; 
    border-radius:8px; 
    padding:8px 12px; 
    font-weight:700; 
  }

  .hud { 
    font-weight:600; 
    opacity:.9; 
  }

  .grid { 
    display:grid; 
    grid-template-columns:repeat(4,1fr); 
    gap:10px; 
  }

  .card { 
    position:relative; 
    aspect-ratio:1/1; 
    border-radius:10px; 
    cursor:pointer; 
  }

  .face { 
    position:absolute; 
    inset:0; 
    display:grid; 
    place-items:center; 
    border-radius:10px; 
    transition:transform .3s; 
    backface-visibility:hidden; 
    font-size:28px; 
  }

  .front { 
    background:var(--card); 
  }

  .back  { 
    background:var(--face); 
    transform:rotateY(180deg); 
  }

  .card.flip .front { 
    transform:rotateY(180deg); 
  }

  .card.flip .back  { 
    transform:rotateY(360deg); 
  }

  .card.match .front, .card.match .back { 
    box-shadow:0 0 0 2px #34d399 inset; 
  }

  #new:hover { 
    background:var(--text); 
    color:var(--bg); 
  }

  /* keyboard focus */
  /* .card:focus { 
    outline:2px solid var(--accent); 
    outline-offset:2px; 
    } */

</style>
</head>
<body>
  <div class="wrap" role="application" aria-label="Memory game">
    <header>
      <div class="hud">Moves: <span id="moves">0</span> Â· Matches: <span id="matches">0</span>/8</div>
      <button id="new">New game</button>
    </header>
    <div id="grid" class="grid" role="grid" aria-label="4 by 4 card grid"></div>
  </div>

<script>
(() => {
  const EMOJI = ['ðŸŽ','ðŸŠ','ðŸ‰','ðŸ‡','ðŸ“','ðŸ’','ðŸ‘','ðŸ']; // 8 pairs = 16 cards
  const grid  = document.getElementById('grid');
  const movesEl = document.getElementById('moves');
  const matchesEl = document.getElementById('matches');
  const newBtn = document.getElementById('new');

  let first = null, lock = false, moves = 0, matches = 0;

  function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } return a; }

  function makeCard(symbol){
    const btn = document.createElement('button');
    btn.className = 'card';
    btn.type = 'button';
    btn.setAttribute('role','gridcell');
    btn.setAttribute('aria-label','Hidden card');
    btn.dataset.symbol = symbol;

    const front = document.createElement('div'); front.className = 'face front'; front.textContent = 'â“';
    const back  = document.createElement('div'); back.className  = 'face back';  back.textContent  = symbol;
    btn.append(front, back);
    return btn;
  }

  function build(){
    grid.innerHTML = '';
    moves = matches = 0; movesEl.textContent = '0'; matchesEl.textContent = '0';
    first = null; lock = false;

    const deck = shuffle([...EMOJI, ...EMOJI]).map(s => makeCard(s));
    deck.forEach(c => grid.appendChild(c));
  }

  function flip(card){
    card.classList.add('flip');
    card.setAttribute('aria-label', `Revealed ${card.dataset.symbol}`);
  }
  function unflip(card){
    card.classList.remove('flip');
    card.setAttribute('aria-label', 'Hidden card');
  }

  function onClick(e){
    const card = e.target.closest('.card');
    if(!card || lock) return;
    if(card.classList.contains('flip') || card.classList.contains('match')) return;

    flip(card);
    if(!first){ first = card; return; }

    // second card
    moves++; movesEl.textContent = moves;
    if(card.dataset.symbol === first.dataset.symbol){
      card.classList.add('match'); first.classList.add('match');
      first = null; matches++; matchesEl.textContent = matches;
      if(matches === 8) setTimeout(()=> alert(`ðŸŽ‰ You won in ${moves} moves!`), 150);
    } else {
      lock = true;
      setTimeout(() => { unflip(card); unflip(first); first = null; lock = false; }, 600);
    }
  }

  grid.addEventListener('click', onClick);
  grid.addEventListener('keydown', (e) => { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); onClick(e); } });

  newBtn.addEventListener('click', build);

  build(); // start
})();
</script>
</body>
</html>
