<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rock ‚Ä¢ Paper ‚Ä¢ Scissors</title>
  <style>
    :root { --bg:#0f172a; --card:#111827; --muted:#94a3b8; --text:#e5e7eb; --accent:#22c55e; --danger:#ef4444; --info:#38bdf8; }
    * { box-sizing: border-box; }
    body {
      margin: 0; min-height: 100vh; display: grid; place-items: center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      background: radial-gradient(1200px 800px at 70% -10%, #1e293b, var(--bg));
      color: var(--text);
    }
    .game {
      width: min(680px, 92vw);
      background: linear-gradient(180deg, #111827 0%, #0b1220 100%);
      border: 1px solid #1f2937; border-radius: 16px; padding: 22px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    h1 { margin: 0 0 6px; font-size: clamp(24px, 3.5vw, 34px); letter-spacing: .5px; }
    .sub { color: var(--muted); margin-bottom: 18px; font-size: 14px; }
    .row { display: flex; gap: 12px; flex-wrap: wrap; align-items: center; }
    .card {
      flex: 1; min-width: 230px; background: #0b1220; border: 1px solid #182132; border-radius: 12px; padding: 14px;
    }
    .score {
      display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; text-align: center; gap: 8px;
      font-weight: 700; font-size: 22px;
    }
    .score small { display:block; color: var(--muted); font-weight: 500; font-size: 12px; }
    .vs { color: var(--muted); font-weight: 600; }
    .controls { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px; }
    button.choice {
      flex: 1; min-width: 100px; cursor: pointer;
      background: #0e1a2b; color: var(--text); border: 1px solid #1f2b3f;
      padding: 12px 14px; border-radius: 10px; font-size: 16px; transition: transform .08s ease, background .2s ease, border-color .2s ease;
      display: grid; grid-template-columns: 28px 1fr; align-items: center; gap: 8px;
    }
    button.choice:hover { background:#122036; border-color:#294163; transform: translateY(-1px); }
    button.choice:active { transform: translateY(1px); }
    .result {
      display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 12px; align-items: center;
      font-size: 15px; color: var(--muted);
    }
    .result .bubble {
      background:#0e1a2b; border:1px solid #1f2b3f; border-radius:10px; padding:10px 12px; display:flex; align-items:center; gap:8px;
    }
    .big {
      margin-top: 14px; padding: 12px; text-align: center; font-size: 18px; border-radius: 10px; border:1px solid #1f2b3f;
      background:#0c1626; min-height: 52px;
    }
    .big.win { border-color:#1d3b2a; background:#0c1f17; color: #bbf7d0; }
    .big.lose { border-color:#3a1d22; background:#1b0e10; color:#fecaca; }
    .big.draw { border-color:#263243; background:#0d1a2a; color:#bae6fd; }
    .panel { display:flex; gap:12px; align-items:center; justify-content:space-between; margin-top:12px; flex-wrap:wrap; }
    select, .ghost, .reset {
      background:#0e1a2b; color:var(--text); border:1px solid #1f2b3f; padding:10px 12px; border-radius:10px; font-size:14px;
    }
    .reset { background:#172033; cursor:pointer; transition: background .2s; }
    .reset:hover { background:#1c2a45; }
    .ghost { opacity:.85; }
    .footer { margin-top: 10px; font-size: 12px; color: var(--muted); text-align: center; }
    @media (max-width: 520px) {
      .result { grid-template-columns: 1fr; }
      .score { font-size: 19px; }
    }
  </style>
</head>
<body>
  <main class="game" aria-live="polite">
    <h1>Rock ‚Ä¢ Paper ‚Ä¢ Scissors</h1>
    <div class="sub">Beat the computer. First to the target wins.</div>

    <section class="row">
      <div class="card">
        <div class="score" id="score">
          <div>
            You
            <small id="youPick">‚Äî</small>
            <div id="youScore">0</div>
          </div>
          <div class="vs">vs</div>
          <div>
            CPU
            <small id="cpuPick">‚Äî</small>
            <div id="cpuScore">0</div>
          </div>
        </div>

        <div class="controls" role="group" aria-label="Choose your move">
          <button class="choice" data-move="rock" aria-label="Rock ü™®">
            <span>ü™®</span><span>Rock</span>
          </button>
          <button class="choice" data-move="paper" aria-label="Paper üìÑ">
            <span>üìÑ</span><span>Paper</span>
          </button>
          <button class="choice" data-move="scissors" aria-label="Scissors ‚úÇÔ∏è">
            <span>‚úÇÔ∏è</span><span>Scissors</span>
          </button>
        </div>

        <div class="result">
          <div class="bubble"><strong>Your move:</strong> <span id="lastYou">‚Äî</span></div>
          <div class="bubble"><strong>Computer:</strong> <span id="lastCpu">‚Äî</span></div>
        </div>

        <div id="banner" class="big draw">Make a move to start!</div>

        <div class="panel">
          <label class="ghost">Best of:
            <select id="bestOf">
              <option value="1">1</option>
              <option value="3">3</option>
              <option value="5" selected>5</option>
              <option value="7">7</option>
              <option value="9">9</option>
            </select>
          </label>
          <button class="reset" id="reset">Reset</button>
        </div>
      </div>
    </section>

    <div class="footer">Tip: Rock beats Scissors ‚Ä¢ Scissors beats Paper ‚Ä¢ Paper beats Rock</div>
  </main>

  <script>
    const moves = ["rock", "paper", "scissors"];
    const emojis = { rock:"ü™®", paper:"üìÑ", scissors:"‚úÇÔ∏è" };

    const youScoreEl = document.getElementById("youScore");
    const cpuScoreEl = document.getElementById("cpuScore");
    const youPickEl  = document.getElementById("youPick");
    const cpuPickEl  = document.getElementById("cpuPick");
    const lastYouEl  = document.getElementById("lastYou");
    const lastCpuEl  = document.getElementById("lastCpu");
    const banner     = document.getElementById("banner");
    const bestOfSel  = document.getElementById("bestOf");
    const resetBtn   = document.getElementById("reset");

    let you = 0, cpu = 0, locked = false;

    function cpuMove() {
      return moves[Math.floor(Math.random() * moves.length)];
    }

    function judge(p1, p2) {
      if (p1 === p2) return "draw";
      if ((p1 === "rock"     && p2 === "scissors") ||
          (p1 === "paper"    && p2 === "rock")     ||
          (p1 === "scissors" && p2 === "paper")) return "win";
      return "lose";
    }

    function updateBanner(result, p1, p2) {
      banner.className = "big " + (result === "win" ? "win" : result === "lose" ? "lose" : "draw");
      const msg = {
        win:  `‚úÖ You win this round! ${emojis[p1]} beats ${emojis[p2]}.`,
        lose: `‚ùå You lose this round. ${emojis[p2]} beats ${emojis[p1]}.`,
        draw: `ü§ù Draw. You both chose ${emojis[p1]}.`
      }[result];
      banner.textContent = msg;
    }

    function maybeEndMatch() {
      const bestOf = parseInt(bestOfSel.value, 10);
      const target = Math.floor(bestOf / 2) + 1; // e.g. best-of-5 -> first to 3
      if (you >= target || cpu >= target) {
        locked = true;
        const finalMsg = you > cpu ? "üèÜ You win the match!" : "üíÄ You lost the match.";
        banner.className = "big " + (you > cpu ? "win" : "lose");
        banner.textContent = `${finalMsg} Final score: You ${you} - ${cpu} CPU.`;
      }
    }

    function handleChoice(e) {
      if (locked) return;
      const p1 = e.currentTarget.dataset.move;
      const p2 = cpuMove();

      lastYouEl.textContent = `${emojis[p1]} ${p1}`;
      lastCpuEl.textContent = `${emojis[p2]} ${p2}`;
      youPickEl.textContent = emojis[p1];
      cpuPickEl.textContent = emojis[p2];

      const result = judge(p1, p2);
      if (result === "win") you++;
      if (result === "lose") cpu++;
      youScoreEl.textContent = you;
      cpuScoreEl.textContent = cpu;

      updateBanner(result, p1, p2);
      maybeEndMatch();
    }

    function reset() {
      you = 0; cpu = 0; locked = false;
      youScoreEl.textContent = "0";
      cpuScoreEl.textContent = "0";
      youPickEl.textContent = "‚Äî";
      cpuPickEl.textContent = "‚Äî";
      lastYouEl.textContent = "‚Äî";
      lastCpuEl.textContent = "‚Äî";
      banner.className = "big draw";
      banner.textContent = "Make a move to start!";
    }

    document.querySelectorAll(".choice").forEach(btn => {
      btn.addEventListener("click", handleChoice);
    });
    bestOfSel.addEventListener("change", reset);
    resetBtn.addEventListener("click", reset);
  </script>
</body>
</html>
